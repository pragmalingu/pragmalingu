---
id: stemming
title: Simple Search vs. Stemming
sidebar_label: Stemming
custom_edit_url: null
---
import useBaseUrl from '@docusaurus/useBaseUrl'

## Abstract
To find out whether stemming can have a positive effect on search results, we compared the standard Elasticsearch to two of the build-in stemming methods. We used [these free available corpora](http://ir.dcs.gla.ac.uk/resources/test_collections/) hosted by the University of Glasgow to work on. How we parsed and analyzed them in advance, can be found in our [Parsing Guide](../guides/how-to-parse.mdx) and in our [Data Set Guide](../guides/data-comparison.mdx). While experimenting we found out, that the stemming apparently only improved on some corpora and even seem to worsen some of the results. We have tried to analyze the possible reasons for this in this article. For a detailed description of all methods and data we used, take a look at our [Stemming Experiment](../experiments/experiment1.mdx).

## Results
To evaluate the results, we looked at the Precision, Recall and F-Score values. We visualized them as bar charts and as a table.

<img alt="Recall" src={useBaseUrl('img/Recall.png')} />

|           |   cranfield |   CISI |   ADI |   medline |   CACM |   LISA |   Time |   NPL |
|-----------|-------------|--------|-------|-----------|--------|--------|--------|-------|
| standard  |       0.15  |  0.103 | 0.328 |     0.032 |  0.034 |  0.337 |  0.772 | 0.233 |
| stemmer   |       0.15  |  0.121 | 0.254 |     0.032 |  0.044 |  0.393 |  0.78  | 0.285 |
| hunspell  |       0.149 |  0.12  | 0.256 |     0.045 |  0.037 |  0.391 |  0.777 | 0.292 |

<img alt="Recall" src={useBaseUrl('img/Precision.png')} />

|           |   cranfield |   CISI |   ADI |   medline |   CACM |   LISA |   Time |   NPL |
|-----------|-------------|--------|-------|-----------|--------|--------|--------|-------|
| standard  |       0.056 |  0.154 | 0.074 |     0.031 |  0.022 |  0.157 |  0.15  | 0.217 |
| stemming  |       0.057 |  0.169 | 0.063 |     0.031 |  0.028 |  0.191 |  0.152 | 0.258 |
| hunspell  |       0.057 |  0.167 | 0.063 |     0.041 |  0.024 |  0.186 |  0.151 | 0.258 |

<img alt="F1-Score" src={useBaseUrl('img/F1-Score.png')} />

|           |   cranfield |   CISI |   ADI |   medline |   CACM |   LISA |   Time |   NPL |
|-----------|-------------|--------|-------|-----------|--------|--------|--------|-------|
| standard  |       0.081 |  0.123 | 0.12  |     0.032 |  0.027 |  0.214 |  0.251 | 0.225 |
| stemming  |       0.082 |  0.141 | 0.101 |     0.032 |  0.034 |  0.257 |  0.255 | 0.271 |
| hunspell  |       0.082 |  0.14  | 0.101 |     0.043 |  0.029 |  0.252 |  0.252 | 0.274 |


## Conclusion
In the beginning we thought applying stemming would bring big improvements on the search results.
But we discovered that the effect of stemming seems to vary a lot depending on the corpus.
For the **cranfield** corpus, stemming, neither the algorithmic nor the dictionary approach, seem to have any significant influence on the results.
The results on the **CACM** and **Time** corpus appear to have a slight improvement by the *stemmer token filter*, but hardly by the *hunspell token filter*.
For the corpora **CISI**, **LISA** and **NPL** the improvement may be a bit clearer. But which stemmer - *hunspell token filter* or the *stemmer token filter* - showed better results, varied on the corpus.
The **medline** corpus only seem to improve due to the *hunspell token filter*, which could be explained by the fact that the dictionary probably seems to cover many terms from the medical field.
On the **adi** corpus, a significant deterioration in the results showed due to stemming. However, this can probably be connected to the small amount of data, since the **adi** corpus is the smallest with 84 documents.
While looking more into the stemming approaches regarding the results. We discovered, that the *stemmer token filter* seems to have trouble with overstemming more often than the *hunspell token filter*. The *hunspell token filter* in the other hand doesn't always get one mapping per word, but sometimes multiple stems, which can lead to problems with ambiguous queries. 
All in all, it can not be said that stemming generally seems to improve search results a little bit. But it seems to depend very much on the documents as well as on the stemming method, to what extent an improvement is visible.

# Discussion