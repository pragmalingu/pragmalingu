<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PragmaLingu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PragmaLingu Blog Atom Feed"><title data-react-helmet="true">How to set up an Elasticsearch Instance | PragmaLingu</title><meta data-react-helmet="true" property="og:url" content="https://www.pragmalingu.de/docs/guides/elastic-setup"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to set up an Elasticsearch Instance | PragmaLingu"><meta data-react-helmet="true" name="description" content="1 Elasticsearch set up"><meta data-react-helmet="true" property="og:description" content="1 Elasticsearch set up"><link data-react-helmet="true" rel="shortcut icon" href="/img/kleines_Icon_1.png"><link data-react-helmet="true" rel="canonical" href="https://www.pragmalingu.de/docs/guides/elastic-setup"><link data-react-helmet="true" rel="alternate" href="https://www.pragmalingu.de/docs/guides/elastic-setup" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.pragmalingu.de/docs/guides/elastic-setup" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.81dc1e69.css">
<link rel="preload" href="/assets/js/runtime~main.0c7868c6.js" as="script">
<link rel="preload" href="/assets/js/main.0ea2e181.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/kleines_Icon_2.webp" alt="PragmaLingu" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/kleines_Icon_2.webp" alt="PragmaLingu" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/docs/comparisons/comparisons-intro">Comparisons</a><a class="navbar__item navbar__link" href="/docs/experiments/experiments-intro">Experiments</a><a class="navbar__item navbar__link" href="/docs/guides/guides-intro">Guides</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/about/team">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pragmalingu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guides/guides-intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/basic-definitions">Basic Definitions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/pragmatics">Pragmatics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/data-comparison">Data Sets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/how-to-parse">Data Parsing for Elasticsearch</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/guides/elastic-setup">Set up Elasticsearch</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/notebooks">Working with Notebooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/guides/ranking-api">Ranking Evaluation API</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">How to set up an Elasticsearch Instance</h1></header><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-elasticsearch-set-up"></a>1 Elasticsearch set up<a class="hash-link" href="#1-elasticsearch-set-up" title="Direct link to heading">#</a></h3><p>Most experiments on Pragmalingu focus on search applications. To reproduce these experiments, you need a search engine to play with. We chose to focus on <a href="https://www.elastic.co/elasticsearch/" target="_blank" rel="noopener noreferrer">Elasticsearch</a> because it&#x27;s the leading open-source solution, has an active community and a lot of documentation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="11-elasticsearch-with-docker"></a>1.1 Elasticsearch with Docker<a class="hash-link" href="#11-elasticsearch-with-docker" title="Direct link to heading">#</a></h4><p>Installing and configuring a full search engine on your machine just to run some experiments is not fun. To make it easiert we will use the available <a href="https://opensource.com/resources/what-docker" target="_blank" rel="noopener noreferrer">Docker containers</a> to install, set up, run and remove Elasticsearch.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="12-install-docker"></a>1.2 Install Docker<a class="hash-link" href="#12-install-docker" title="Direct link to heading">#</a></h4><p>You can install docker by following the <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">official guide on the docker homepage</a>. If you are using Linux as your operating system you also have to install <a href="https://docs.docker.com/compose/install/#install-compose" target="_blank" rel="noopener noreferrer">Docker Compose</a>. Once you are finished check if docker is running by executing the following command in your command line or terminal:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker -v</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The response should be something like this: <code>Docker version 19.03.8, build afacb8b</code>. If you get an error instead, troubleshoot your Docker installation, see <a href="https://docs.docker.com/docker-for-windows/troubleshoot/" target="_blank" rel="noopener noreferrer">troubleshoot for windows</a>, <a href="https://docs.docker.com/docker-for-mac/troubleshoot/" target="_blank" rel="noopener noreferrer">Mac</a> or <a href="https://docs.docker.com/config/daemon/#troubleshoot-the-daemon" target="_blank" rel="noopener noreferrer">Linux</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="13-run-elasticsearch-with-docker"></a>1.3 Run Elasticsearch with docker<a class="hash-link" href="#13-run-elasticsearch-with-docker" title="Direct link to heading">#</a></h4><p>Now that you have docker up and running we can start by installing <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html" target="_blank" rel="noopener noreferrer">Elasticsearch with Docker</a>. All you have to do is open your terminal or command line and enter</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name elasticsearch -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.8.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will tell Docker to download the container <code>docker.elastic.co/elasticsearch/elasticsearch:7.8.0</code> and run it with the name <code>elasticsearch</code>.</p><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>What does &quot;-p 9200:9200 -p 9300:9300&quot; mean?</summary><div><div class="collapsibleContent_3OHp"><p>The <code>-p 9200:9200 -p 9300:9300</code> arguments tell Docker to map the network ports <code>9200</code> and <code>9300</code> of the container to the same ports on your local machine. A <a href="http://www.steves-internet-guide.com/tcpip-ports-sockets/" target="_blank" rel="noopener noreferrer">network port</a> is like a post box through which you can communicate with an application running on a computer.</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>What does -e &quot;discovery.type=single-node&quot; mean?</summary><div><div class="collapsibleContent_3OHp"><p>The argument <code>-e &quot;discovery.type=single-node</code> tells Elasticsearch to run in single-node mode, this means that only one machine will host the Elasticsearch application. Normally, Elasticsearch is run in <a href="https://logz.io/blog/elasticsearch-cluster-tutorial/" target="_blank" rel="noopener noreferrer">cluster mode</a> on several machines to enable scaling and make it resilient against single computer failures.</p></div></div></details><p>Â <br>
After you ran the above command you will see a lot of logging output on your command line, that is Elasticsearch telling you what it is doing. You should now be able to access and talk to Elasticsearch via <a href="http://localhost:9200/" target="_blank" rel="noopener noreferrer">http://localhost:9200/</a>. If you access this site, you should get a JSON response similar to this one:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;c8dab6730e0b&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cluster_name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;docker-cluster&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cluster_uuid</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;z1hhnWwmTHaX_VSAqrlXFA&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    number</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;7.8.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    build_flavor</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    build_type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;docker&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    build_hash</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;757314695644ea9a1dc2fecd26d1a43856725e65&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    build_date</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2020-06-14T19:35:50.234439Z&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    build_snapshot</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    lucene_version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;8.5.1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    minimum_wire_compatibility_version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;6.8.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    minimum_index_compatibility_version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;6.0.0-beta1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tagline</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;You Know, for Search&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This means that you successfully installed and started Elasticsearch on your machine. Woohoo! Great job! Now we can go ahead and play with it.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="14-install-and-run-elasticsearch--kibana-with-docker-compose"></a>1.4 Install and run Elasticsearch &amp; Kibana with Docker-Compose<a class="hash-link" href="#14-install-and-run-elasticsearch--kibana-with-docker-compose" title="Direct link to heading">#</a></h4><p>Before we actually index our first documents and run our first search, we will make it easier for us to work with Elasticsearch and Docker. Therefore, we will also use <a href="https://www.elastic.co/kibana" target="_blank" rel="noopener noreferrer">Kibana</a>. Kibana is an application to visualize and manage data in Elasticsearch and is offered by  the company behind Elasticsearch, <code>elastic</code>.</p><p>To run two applications simultaneously inside docker, we will use <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">docker-compose</a> to make it easier for us. With Docker-compose we can specifiy the containers we want to use and their configuration inside a single file. For running Elasticsearch and Kibana a simple <code>docker-compose.yml</code> file would look like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;3.8&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">elasticsearch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> docker.elastic.co/elasticsearch/elasticsearch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">7.8.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> discovery.type=single</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">node</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 9200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">9200</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 9300</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">9300</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">kibana</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> docker.elastic.co/kibana/kibana</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">7.8.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 5601</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">5601</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>services</code> section declares and names the applications we want to use. For our use case <code>elasticsearch</code> and <code>kibana</code>. The <code>image</code> sections tell docker which container to use for the declared service. With the <code>environment</code> section we can pass application specific environment variables to the container. The <code>ports</code> section works just like the <code>-p</code> argument from the normal docker run command and maps ports from your host computer to the container.</p><p>Copy the above code and save it to a docker-compose.yml file on your machine.</p><p>Before you can start these applications using docker-compose we have to stop the currently running <code>elasticsearch</code> container.
To do that just run the following in your command line:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker stop elasticsearch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can see all currently running containers by executing <code>docker ps</code>.</p><p>Now that the old Elasticsearch container is stopped you can go to the folder where you saved the <code>docker-compose.yml</code> file and open a command line there. Finally, with running <code>docker-compose up</code> you just have to wait until docker is finished downloading and setting up all missing containers. You will see both Elasticsearch and Kibana printing their logs to your command line. That`s it, you have them both set up and running!</p><p>You should now be able to access the Kibana UI by opening the following link in your browser <a href="http://localhost:5601" target="_blank" rel="noopener noreferrer">http://localhost:5601</a>. There is a lot going on there, but you can find the section that is most useful for us is located at <a href="http://localhost:5601/app/kibana#/dev_tools/console" target="_blank" rel="noopener noreferrer">http://localhost:5601/app/kibana#/dev_tools/console</a>.</p><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>What happens if I don`t stop the old container?</summary><div><div class="collapsibleContent_3OHp"><p>  Since we configured both the original container and the one that is started by docker-compose to use the ports <code>9200</code> and <code>9300</code>, these ports will already be in use when the second container wants to start. This will prevent the second container from starting, since only one running process can hold a port at a time.</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>How does Kibana know how to reach Elasticsearch?</summary><div><div class="collapsibleContent_3OHp"><p>  There is some magic happening in the background when you run <code>docker-compose up</code>. Docker-compose is actually setting up an isolated network inside your computer, where each container gets a network address assigned that corresponds to its service name. The Elasticsearch service will be reachable under the address <a href="http://elasticsearch:9200" target="_blank" rel="noopener noreferrer">http://elasticsearch:9200</a> inside this network. This is the <a href="https://www.elastic.co/guide/en/kibana/current/docker.html#docker-defaults" target="_blank" rel="noopener noreferrer">default address</a> configured for Kibana in docker to look for Elasticsearch.</p></div></div></details><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-use-elasticsearch-from-kibana"></a>2 Use Elasticsearch from Kibana<a class="hash-link" href="#2-use-elasticsearch-from-kibana" title="Direct link to heading">#</a></h3><p>Kibana offers a lot of different tools to work with Elasticsearch and to visualize data. We will use the <strong>Console</strong>. It is an interface that offers autocompletion and makes it easy to send HTTP requests to Elasticsearch.</p><p>We start by sending a simple requests that lists all <a href="https://www.elastic.co/de/blog/what-is-an-elasticsearch-index" target="_blank" rel="noopener noreferrer">indexes in Elasticsearch</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GET /_cat/indices?v</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-indices.html" target="_blank" rel="noopener noreferrer">documentation for <em>GET _cat/indices</em></a><br>
The response should look similar to this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">health status index                          uuid                   pri rep docs.count docs.deleted store.size pri.store.size</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">green  open   .kibana-event-log-7.8.0-000001 fHgbEl2-SGSSC5KYc_l_6w   1   0          2            0     10.4kb         10.4kb</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">green  open   .apm-custom-link               Kuikvz1aQTadtTKjn-1JMg   1   0          0            0       208b           208b</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">green  open   .kibana_task_manager_1         iijJqOO5S-ymQBbqmvXDAw   1   0          5            4     54.4kb         54.4kb</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">green  open   .apm-agent-configuration       _ig6Y8JwRby4NIiPzGCXGw   1   0          0            0       208b           208b</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">green  open   .kibana_1                      3GkEN2iyQHaHpCaEjO8saQ   1   0         15            2     94.7kb         94.7kb</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>What is an index?</summary><div><div class="collapsibleContent_3OHp"><p><a href="https://en.wikipedia.org/wiki/Inverted_index" target="_blank" rel="noopener noreferrer">Indexes</a> are where search engines store the information about <strong>words</strong> and the <strong>documents</strong> that these words appear in. Similar to an index in a book where you can lookup words in alphabetical order and find the pages that contain or explain these words. <a href="https://www.elastic.co/de/blog/what-is-an-elasticsearch-index" target="_blank" rel="noopener noreferrer">In Elasticsearch</a> an index is the place where you store all the documents that have a similar structure and that you want users to find when they search.</p></div></div></details>Â <p>Because we haven&#x27;t created an index yet you only see internal indexes from Kibana that are prefixed with a dot. To create an index now just type in:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PUT myfirstindex</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Elasticsearch should respond with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;acknowledged&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;shards_acknowledged&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;index&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;myfirstindex&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can check again with <code>GET /_cat/indices?v</code> to make sure your new index is present. Now that you created your first index you can start adding documents to it.  </p><p>The following command would add a simple document with only one field called <code>text</code> and the id <code>1</code> to the index <code>myfirstindex</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PUT /myfirstindex/_doc/</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;this is my first document&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now that you created your first document, you can start searching on it. To find all documents that contain the word <code>document</code> run the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GET myfirstindex/_search</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;query&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;match&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;query&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;document&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Elasticsearch should respond with the document that you just added to the index.</p><p>That&#x27;s it, you successfully set up your search server, indexed your first document and were able to search on it. Starting from here you can explore natural language processing techniques and configurations that help your search engine find matches, even if the user searches for the term <code>documents</code> instead or uses completely different but semantically related terms. You can read more about these techniques in our advanced guides.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-where-to-go-from-here"></a>3. Where to go from here<a class="hash-link" href="#3-where-to-go-from-here" title="Direct link to heading">#</a></h3><p>You learned how to set up your own Elasticsearch instance using docker and docker-compose. You now know how to talk to Elasticsearch via Kibana, create indexes and documents and search on them. Most of the experiments on Pragmalingu don&#x27;t require to set up your own Elasticsearch instance, but if you want to dive deeper and maybe host your service powered by Elasticsearch or conduct longer running experiments you now know how to start.</p><br><br><p><strong>Acknowledgements:</strong><br>
Thanks to Kenny Hall and Irina Temnikova for proofreading this article.</p><div class="col text--right"><em><small>Written by <strong>Samy Ateia</strong>,  July 2020</small></em></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guides/how-to-parse"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Data Parsing for Elasticsearch</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guides/notebooks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working with Notebooks Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-elasticsearch-set-up" class="table-of-contents__link">1 Elasticsearch set up</a></li><li><a href="#2-use-elasticsearch-from-kibana" class="table-of-contents__link">2 Use Elasticsearch from Kibana</a></li><li><a href="#3-where-to-go-from-here" class="table-of-contents__link">3. Where to go from here</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/comparisons/comparisons-intro">Comparisons</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/experiments/experiments-intro">Experiments</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guides/guides-intro">Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pragmalingu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/uzXWeKQ" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://eepurl.com/heTv2X" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/pragmalingu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/team">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/impressum">Impressum</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 PragmaLingu</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0c7868c6.js"></script>
<script src="/assets/js/main.0ea2e181.js"></script>
</body>
</html>