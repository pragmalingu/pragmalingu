---
id: ranking-api
title: How to Use the Elasticsearch Ranking Evaluation API
sidebar_label: Ranking API
---

Alle Informationen über die Ranking Evaluation API findet ihr auch auf der [Elasticsearch Webseite](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-rank-eval.html).

In unseren Experimenten haben wir eine Evaluation von angewendeten metrics immer anhand der in Elasticsearch eingebauten Ranking Evaluation API ausgwertet.

Um die Ranking API optimal nutzen zu können wollen wir euch in diesem Guide kurz erklären, welche Möglichkeiten sie bietet und wie ihr sie schnell in wenigen Schritten nutzen könnt.

Bevor wir starten sind drei Daten Vorraussetzung um die API nutzen zu können:
* 

Als erstes muss man die Dokumente auf denen man suchen möchte, in einen Index auf Elasticsearch speichern, eine Anleitung dazu haben wir in unserem [Elasticsearch Guide](../guides/elasticsearch) aufgeschrieben. 

Danach muss man die Suchanfragen an die Form der Ranking API anpassen, um sie an Elasticsearch übergeben zu können. Wie man das mit Rohdaten macht könnt ihr in unserem [Parsing Guide](../guides/parsing-guide) nachlesen. 
Nach dem Parsen sollten die Suchanfragen diese Form haben:

```python
{
  "requests": [
    {
      "id": "amsterdam_query",                                  
      "request": {                                              
          "query": { "match": { "text": "amsterdam" } }
      },
      "ratings": [                                              
        { "_index": "my-index-000001", "_id": "doc1", "rating": 0 },
        { "_index": "my-index-000001", "_id": "doc2", "rating": 3 },
        { "_index": "my-index-000001", "_id": "doc3", "rating": 1 }
      ]
    },
    {
      "id": "berlin_query",
      "request": {
        "query": { "match": { "text": "berlin" } }
      },
      "ratings": [
        { "_index": "my-index-000001", "_id": "doc1", "rating": 1 }
      ]
    }
  ]
}
```
Die `id` soll dabei eine individuelle